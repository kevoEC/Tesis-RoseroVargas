import{u as h,r as a,j as e,C as f,c as b,d as y,a as j}from"./index-CG6H-kfp.js";import{D as C,a as w,b as k,c as N,d as E}from"./dialog-2_FlWSQy.js";import{g as n,d as v}from"./ProspectoService-CHx1iZIb.js";import{T as D}from"./TablaCustom2-CwS24NS9.js";import P from"./ProspectoForm-CPNbr1Ri.js";import"./select-B3dX9JJ0.js";import"./index-DMmKv1VD.js";import"./ProductoInteresService-uZkqrmTw.js";import"./OrigenClienteService-Hn7RdPN2.js";import"./TipoIdentificacionService-DqUkVc03.js";function F(){const c=h(),[i,s]=a.useState([]),[d,t]=a.useState(!1),l=async()=>{try{const r=await n();s(r)}catch(r){console.error("Error al cargar prospectos:",r)}};a.useEffect(()=>{l()},[]),a.useEffect(()=>{(async()=>{try{const o=await n();s(o)}catch(o){console.error("Error al cargar prospectos:",o)}})()},[]);const p=r=>{c(`/prospectos/editar/${r.idProspecto}`)},m=async r=>{try{await v(r.idProspecto)}catch(o){console.error("Error al eliminar prospecto:",o)}},x=()=>{t(!0)},u=()=>{t(!1)},g=[{key:"idProspecto",label:"Prospecto",render:r=>e.jsxs("div",{className:"flex items-center justify-center group relative text-gray-500",children:[e.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",strokeWidth:"1.8",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A9.003 9.003 0 0112 15c2.486 0 4.735.996 6.364 2.634M15 11a3 3 0 11-6 0 3 3 0 016 0z"})}),e.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-xs text-white bg-zinc-800 px-2 py-0.5 rounded shadow opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 whitespace-nowrap",children:["ID: ",r]})]})},{key:"nombreCompleto",label:"Nombre completo",render:(r,o)=>e.jsx("span",{className:"whitespace-nowrap",children:`${o.nombres??""} ${o.apellidoPaterno??""} ${o.apellidoMaterno??""}`})},{key:"tipoIdentificacion",label:"Tipo ID"},{key:"telefonoCelular",label:"Núm. Celular"},{key:"correoElectronico",label:"Correo"},{key:"nombreOrigen",label:"Origen"},{key:"productoInteres",label:"Producto de Interés"},{key:"agencia",label:"Agencia"},{key:"estado",label:"Estado",render:r=>e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r?"bg-green-100 text-green-700":"bg-yellow-200 text-yellow-700"}`,children:r?"Activo":"Inactivo"})}];return e.jsxs("div",{className:"p-4 sm:p-6 md:p-8 max-w-full",children:[e.jsxs(f,{className:"w-full border border-muted rounded-xl shadow-[0_4px_10px_rgba(0,0,0,0.12)]",children:[e.jsx(b,{children:e.jsx(y,{className:"text-3xl",children:"Lista de Prospectos"})}),e.jsx(j,{className:"p-6 overflow-x-auto",children:e.jsx(D,{columns:g,data:i,mostrarEditar:!0,mostrarAgregarNuevo:!0,mostrarEliminar:!0,onAgregarNuevoClick:x,onEditarClick:p,onEliminarClick:m})})]}),e.jsx(C,{open:d,onOpenChange:t,className:"min-w-3xl",children:e.jsxs(w,{className:"min-w-3xl",children:[e.jsxs(k,{children:[e.jsx(N,{children:"Agregar Prospecto"}),e.jsx(E,{children:"Completa la información del nuevo prospecto"})]}),e.jsx(P,{onClose:u,onSaved:l})]})})]})}export{F as default};
