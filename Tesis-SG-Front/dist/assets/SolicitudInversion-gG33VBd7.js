import{u as x,r as a,j as e,C as g,c as f,d as b,a as j}from"./index-CG6H-kfp.js";import{a as v,d as C}from"./SolicitudService-CKfwnCvg.js";import{T as D}from"./TablaCustom2-CwS24NS9.js";import{D as y,a as S,b as k,c as E,d as T}from"./dialog-2_FlWSQy.js";import w from"./SolicitudInversionForm-CN5YfxLU.js";import"./switch-f3LOaz4k.js";import"./index-DMmKv1VD.js";import"./TipoIdentificacionService-DqUkVc03.js";import"./select-B3dX9JJ0.js";function L(){const n=x(),[s,l]=a.useState([]),[c,t]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const o=await v();console.log("Inversiones",o.data),l(o.data)}catch(o){console.error("Error al cargar solicitudes:",o)}})()},[]);const d=i=>{n(`/solicitudes/editar/${i.idSolicitudInversion}`)},m=async i=>{try{await C(i.idSolicitudInversion)}catch(o){console.error("Error al eliminar solicitud:",o)}},u=()=>{t(!0)},p=()=>{t(!1)},h=[{key:"idSolicitudInversion",label:"",render:i=>e.jsxs("div",{className:"flex items-center justify-center group relative text-gray-500",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6M5 4v16h14V4H5zm2 2h10v12H7V6z"})}),e.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 text-xs text-white bg-zinc-800 px-2 py-0.5 rounded shadow opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 whitespace-nowrap",children:["ID: ",i]})]})},{key:"tipoSolicitud",label:"Tipo de Solicitud",render:(i,o)=>{var r;return((r=o.identificacion)==null?void 0:r.nombreTipoSolicitud)||"—"}},{key:"numeroDocumento",label:"N° Documento",render:(i,o)=>{var r;return((r=o.identificacion)==null?void 0:r.numeroDocumento)||"—"}},{key:"tipoDocumento",label:"Tipo de Documento",render:(i,o)=>{var r;return((r=o.identificacion)==null?void 0:r.nombreTipoDocumento)||"—"}},{key:"nombreCompleto",label:"Nombre completo",render:(i,o)=>o.nombreCompletoProspecto||"—"},{key:"tipoCliente",label:"Tipo de Cliente",render:(i,o)=>{var r;return((r=o.identificacion)==null?void 0:r.nombreTipoCliente)||"—"}},{key:"nombrePropietario",label:"Propietario",render:i=>i||"—"}];return e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs(g,{children:[e.jsx(f,{children:e.jsx(b,{children:"Solicitudes de Inversión - Todos"})}),e.jsx(j,{children:e.jsx(D,{columns:h,data:s,mostrarEditar:!0,mostrarAgregarNuevo:!1,mostrarEliminar:!0,onAgregarNuevoClick:u,onEditarClick:d,onEliminarClick:m})})]}),e.jsx(y,{open:c,onOpenChange:t,className:"min-w-3xl",children:e.jsxs(S,{className:"min-w-3xl",children:[e.jsxs(k,{children:[e.jsx(E,{children:"Agregar Solicitud"}),e.jsx(T,{children:"Completa la información de la nueva solicitud"})]}),e.jsx(w,{onClose:p})]})})]})})}export{L as default};
