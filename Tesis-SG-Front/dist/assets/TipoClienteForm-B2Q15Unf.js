import{f as C,u as g,r as p,j as e,B as m,n as h,C as f,a as b,L as j,I as T,t as o}from"./index-ABbIRX4x.js";import{a as v,u as N,c as y}from"./TipoClienteService-BAK64bBK.js";function I(){var u;const{id:r}=C(),t=!!r,l=g(),[n,c]=p.useState(""),s=JSON.parse(localStorage.getItem("user")),d=(u=s==null?void 0:s.usuario)==null?void 0:u.idUsuario;p.useEffect(()=>{t&&(async()=>{try{const a=await v(r);c(a.nombreTipoCliente)}catch(a){console.error("Error al cargar tipo de cliente:",a)}})()},[r,t]);const x=async a=>{a.preventDefault();try{const i={idTipoCliente:t?parseInt(r,10):0,nombreTipoCliente:n,...t?{idUsuarioModificacion:d}:{idUsuarioCreacion:d}};t?(await N(i),o.success("Tipo Cliente actualizado correctamente")):(await y(i),o.success("Tipo Cliente creado correctamente")),l("/catalogo/tipocliente/vista")}catch(i){console.error("Error al guardar tipo de cliente:",i),o.error("Error al guardar el tipo de cliente")}};return e.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(m,{variant:"link",onClick:()=>l("/catalogo/tipocliente/vista"),className:"text-blue-600 px-0",children:[e.jsx(h,{className:"w-4 h-4 mr-2"})," Volver a Tipo Cliente"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Editar Tipo Cliente":"Crear Tipo Cliente"})]}),e.jsx(f,{className:"shadow-lg border border-gray-200 rounded-2xl",children:e.jsx(b,{className:"p-6",children:e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{className:"font-medium text-gray-700",children:"DescripciÃ³n"}),e.jsx(T,{placeholder:"Ej: Regular",value:n,onChange:a=>c(a.target.value),required:!0})]}),e.jsx(m,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Guardar Tipo Cliente"})]})})})]})}export{I as default};
