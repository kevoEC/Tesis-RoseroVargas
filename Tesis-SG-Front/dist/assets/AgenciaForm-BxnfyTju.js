import{f as h,u as p,r as g,j as a,B as m,n as f,C as j,a as b,L as v,I as A,o as N,p as y,t as i,q as C}from"./index-ABbIRX4x.js";function w(){var u;const{id:r}=h(),s=!!r,n=p(),[o,l]=g.useState(""),c=JSON.parse(localStorage.getItem("user")),d=(u=c==null?void 0:c.usuario)==null?void 0:u.idUsuario;g.useEffect(()=>{s&&(async()=>{try{const e=await N(r);l(e.ciudad)}catch(e){console.error("Error al cargar agencia:",e)}})()},[r]);const x=async t=>{t.preventDefault();try{const e={idAgencia:s?parseInt(r):0,ciudad:o,...s?{idUsuarioModificacion:d}:{idUsuarioCreacion:d}};s?(await y(e),i.success("Agencia actualizada correctamente")):(await C(e),i.success("Agencia creada correctamente")),n("/catalogo/agencia/vista")}catch(e){console.error("Error al guardar agencia:",e),i.error("Error al guardar la agencia")}};return a.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(m,{variant:"link",onClick:()=>n("/catalogo/agencia/vista"),className:"text-blue-600 px-0",children:[a.jsx(f,{className:"w-4 h-4 mr-2"})," Volver a Agencias"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s?"Editar Agencia":"Crear Agencia"})]}),a.jsx(j,{className:"shadow-lg border border-gray-200 rounded-2xl",children:a.jsx(b,{className:"p-6",children:a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(v,{className:"font-medium text-gray-700",children:"Ciudad"}),a.jsx(A,{placeholder:"Ej: Quito",value:o,onChange:t=>l(t.target.value),required:!0})]}),a.jsx(m,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Guardar Agencia"})]})})})]})}export{w as default};
