import{f as x,u as g,r as p,j as a,B as m,n as h,C as f,a as j,L as b,I as A,t as c}from"./index-ABbIRX4x.js";import{a as N,u as T,c as y}from"./TipoActividadService-BNx9c6j8.js";function C(){var u;const{id:e}=x(),t=!!e,o=g(),[d,n]=p.useState(""),s=JSON.parse(localStorage.getItem("user")),l=(u=s==null?void 0:s.usuario)==null?void 0:u.idUsuario;p.useEffect(()=>{t&&(async()=>{try{const i=await N(e);n(i.descripcion)}catch(i){console.error("Error al cargar agencia:",i)}})()},[e]);const v=async r=>{r.preventDefault();try{const i={idTipoActividad:t?parseInt(e):0,descripcion:d,...t?{idUsuarioModificacion:l}:{idUsuarioCreacion:l}};t?(await T(i),c.success("Tipo Actividad actualizada correctamente")):(await y(i),c.success("Tipo Actividad creada correctamente")),o("/catalogo/tipoactividad/vista")}catch(i){console.error("Error al guardar agencia:",i),c.error("Error al guardar la agencia")}};return a.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(m,{variant:"link",onClick:()=>o("/catalogo/tipoactividad/vista"),className:"text-blue-600 px-0",children:[a.jsx(h,{className:"w-4 h-4 mr-2"})," Volver a Tipo Actividad"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Editar Tipo Actividad":"Crear Tipo Actividad"})]}),a.jsx(f,{className:"shadow-lg border border-gray-200 rounded-2xl",children:a.jsx(j,{className:"p-6",children:a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(b,{className:"font-medium text-gray-700",children:"Descripcion"}),a.jsx(A,{placeholder:"Ej: Quito",value:d,onChange:r=>n(r.target.value),required:!0})]}),a.jsx(m,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Guardar Tipo Actividad"})]})})})]})}export{C as default};
