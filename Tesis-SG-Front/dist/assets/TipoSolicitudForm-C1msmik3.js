import{e as h,u as S,r as p,j as a,B as m,l as g,C as b,a as f,L as j,I as T,t as r}from"./index-CG6H-kfp.js";import{a as v,u as N,c as y}from"./TipoSolicitudService-BG-MrLq3.js";function C(){var n;const{id:e}=h(),t=!!e,c=S(),[l,d]=p.useState(""),s=JSON.parse(localStorage.getItem("user")),u=(n=s==null?void 0:s.usuario)==null?void 0:n.idUsuario;p.useEffect(()=>{t&&(async()=>{try{const i=await v(e);d(i.nombreTipoDeSolicitud)}catch(i){console.error("Error al cargar tipo de solicitud:",i)}})()},[e,t]);const x=async i=>{i.preventDefault();try{const o={idTipoSolicitud:t?parseInt(e,10):0,nombreTipoDeSolicitud:l,...t?{idUsuarioModificacion:u}:{idUsuarioCreacion:u}};t?(await N(o),r.success("Tipo Solicitud actualizada correctamente")):(await y(o),r.success("Tipo Solicitud creada correctamente")),c("/catalogo/tiposolicitud/vista")}catch(o){console.error("Error al guardar tipo de solicitud:",o),r.error("Error al guardar el tipo de solicitud")}};return a.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(m,{variant:"link",onClick:()=>c("/catalogo/tiposolicitud/vista"),className:"text-blue-600 px-0",children:[a.jsx(g,{className:"w-4 h-4 mr-2"})," Volver a Tipo Solicitud"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Editar Tipo Solicitud":"Crear Tipo Solicitud"})]}),a.jsx(b,{className:"shadow-lg border border-gray-200 rounded-2xl",children:a.jsx(f,{className:"p-6",children:a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(j,{className:"font-medium text-gray-700",children:"DescripciÃ³n"}),a.jsx(T,{placeholder:"Ej: Quito",value:l,onChange:i=>d(i.target.value),required:!0})]}),a.jsx(m,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Guardar Tipo Solicitud"})]})})})]})}export{C as default};
