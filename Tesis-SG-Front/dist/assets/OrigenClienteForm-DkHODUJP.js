import{e as x,u as h,f as p,r as d,j as e,B as u,C as b,a as f,L as j,I as v,t as n}from"./index-CG6H-kfp.js";import{a as C,u as O,c as N}from"./OrigenClienteService-Hn7RdPN2.js";function w(){const{id:r}=x(),s=!!r,i=h(),{user:t}=p(),[o,c]=d.useState("");d.useEffect(()=>{s&&C(r).then(a=>c(a.nombreOrigen)).catch(a=>console.error("Error al cargar origen:",a))},[r]);const m=async a=>{a.preventDefault();const l={idOrigenCliente:s?parseInt(r):0,nombreOrigen:o,idUsuarioCreacion:(t==null?void 0:t.id)||null};try{s?(await O(l),n.success("Origen actualizado correctamente")):(await N(l),n.success("Origen creado correctamente")),i("/catalogo/origenpotencial/vista")}catch(g){console.error("Error al guardar:",g),n.error("Error al guardar el origen")}};return e.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(u,{variant:"link",onClick:()=>i("/catalogo/origenpotencial/vista"),className:"text-blue-600 px-0",children:"← Volver a Origen Cliente"}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[s?"Editar":"Crear"," Origen Cliente"]})]}),e.jsx(b,{className:"shadow-md",children:e.jsx(f,{className:"p-6",children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(j,{children:"Nombre del Origen"}),e.jsx(v,{value:o,onChange:a=>c(a.target.value),required:!0})]}),e.jsx(u,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Guardar"})]})})})]})}export{w as default};
