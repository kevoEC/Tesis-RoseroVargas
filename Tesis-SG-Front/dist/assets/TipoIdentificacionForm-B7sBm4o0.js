import{f as x,u as h,r as p,j as a,B as f,n as g,C as I,a as j,L as b,I as v,t as s}from"./index-ABbIRX4x.js";import{a as N,u as T,c as y}from"./TipoIdentificacionService-BJmrDHaB.js";function w(){var u;const{id:t}=x(),e=!!t,o=h(),[n,d]=p.useState(""),r=JSON.parse(localStorage.getItem("user")),l=(u=r==null?void 0:r.usuario)==null?void 0:u.idUsuario;p.useEffect(()=>{e&&(async()=>{try{const i=await N(t);d(i.tipo)}catch(i){console.error("Error al cargar tipo de identificación:",i)}})()},[t,e]);const m=async i=>{i.preventDefault();try{const c={idTipoIdentificacion:e?parseInt(t,10):0,tipo:n,...e?{idUsuarioModificacion:l}:{idUsuarioCreacion:l}};e?(await T(c),s.success("Tipo Identificación actualizado correctamente")):(await y(c),s.success("Tipo Identificación creado correctamente")),o("/catalogo/tipoidentificacion/vista")}catch(c){console.error("Error al guardar tipo de identificación:",c),s.error("Error al guardar el tipo de identificación")}};return a.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(f,{variant:"link",onClick:()=>o("/catalogo/tipoidentificacion/vista"),className:"text-blue-600 px-0",children:[a.jsx(g,{className:"w-4 h-4 mr-2"})," Volver a Tipo Identificación"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:e?"Editar Tipo Identificación":"Crear Tipo Identificación"})]}),a.jsx(I,{className:"shadow-lg border border-gray-200 rounded-2xl",children:a.jsx(j,{className:"p-6",children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(b,{className:"font-medium text-gray-700",children:"Descripción"}),a.jsx(v,{placeholder:"Ej: Cédula",value:n,onChange:i=>d(i.target.value),required:!0})]}),a.jsx(f,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Guardar Tipo Identificación"})]})})})]})}export{w as default};
