import{r as o,O as Z,a3 as Q,j as e,Q as W,a4 as M,V as D,ae as Y,a5 as ee,s as V,az as X,u as B,C as L,a as T,L as y,I as C,B as E,A as G,G as O,x as U,E as F,w as $,aL as ae,t as S,aM as se}from"./index-ABbIRX4x.js";import{u as te}from"./index-CFqNEq9z.js";import{A as re,g as oe,a as ne,b as ce,c as le,d as ie,e as de,f as me}from"./alert-dialog-BbB2nhGe.js";import{S as xe,a as he,b as pe,c as ue,d as be}from"./select-C75wXMdb.js";var R="Checkbox",[ge,Fe]=W(R),[fe,je]=ge(R),z=o.forwardRef((a,t)=>{const{__scopeCheckbox:r,name:i,checked:s,defaultChecked:d,required:c,disabled:m,value:g="on",onCheckedChange:j,form:u,...k}=a,[h,x]=o.useState(null),p=Z(t,b=>x(b)),w=o.useRef(!1),l=h?u||!!h.closest("form"):!0,[v=!1,f]=Q({prop:s,defaultProp:d,onChange:j}),N=o.useRef(v);return o.useEffect(()=>{const b=h==null?void 0:h.form;if(b){const n=()=>f(N.current);return b.addEventListener("reset",n),()=>b.removeEventListener("reset",n)}},[h,f]),e.jsxs(fe,{scope:r,state:v,disabled:m,children:[e.jsx(M.button,{type:"button",role:"checkbox","aria-checked":P(v)?"mixed":v,"aria-required":c,"data-state":J(v),"data-disabled":m?"":void 0,disabled:m,value:g,...k,ref:p,onKeyDown:D(a.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:D(a.onClick,b=>{f(n=>P(n)?!0:!n),l&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),l&&e.jsx(ve,{control:h,bubbles:!w.current,name:i,value:g,checked:v,required:c,disabled:m,form:u,style:{transform:"translateX(-100%)"},defaultChecked:P(d)?!1:d})]})});z.displayName=R;var q="CheckboxIndicator",H=o.forwardRef((a,t)=>{const{__scopeCheckbox:r,forceMount:i,...s}=a,d=je(q,r);return e.jsx(Y,{present:i||P(d.state)||d.state===!0,children:e.jsx(M.span,{"data-state":J(d.state),"data-disabled":d.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...a.style}})})});H.displayName=q;var ve=a=>{const{control:t,checked:r,bubbles:i=!0,defaultChecked:s,...d}=a,c=o.useRef(null),m=te(r),g=ee(t);o.useEffect(()=>{const u=c.current,k=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(k,"checked").set;if(m!==r&&x){const p=new Event("click",{bubbles:i});u.indeterminate=P(r),x.call(u,P(r)?!1:r),u.dispatchEvent(p)}},[m,r,i]);const j=o.useRef(P(r)?!1:r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??j.current,...d,tabIndex:-1,ref:c,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P(a){return a==="indeterminate"}function J(a){return P(a)?"indeterminate":a?"checked":"unchecked"}var Ne=z,ye=H;function I({className:a,...t}){return e.jsx(Ne,{"data-slot":"checkbox",className:V("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:e.jsx(ye,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(X,{className:"size-3.5"})})})}const Ce=["Cuenta","Datos personales","Verificación","Teléfono","Confirmación"];function A({currentStep:a=1}){return e.jsx("div",{className:"flex items-center justify-center space-x-4 mb-6",children:Ce.map((t,r)=>{const i=r+1,s=i<a,d=i===a;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:V("w-6 h-6 rounded-full flex items-center justify-center border text-xs font-bold transition",s?"bg-green-600 text-white border-green-600":d?"border-[--color-primary] text-[--color-primary]":"border-[--color-border] text-[--color-muted] bg-white"),children:s?e.jsx(X,{className:"w-4 h-4"}):i}),d&&e.jsx("span",{className:"text-sm font-medium text-[--color-primary]",children:t})]},i)})})}function ke({data:a,setData:t,onNext:r}){const i=B(),s=c=>{t(m=>({...m,[c]:!m[c]}))},d=a.correo&&a.confirmarCorreo&&a.identificacion&&a.aceptaClausula&&a.aceptaTerminos&&a.aceptaPrivacidad;return e.jsxs("div",{className:"min-h-screen bg-pattern flex flex-col items-center justify-center px-4 text-[--color-fg]",children:[e.jsx("img",{src:"/png/Logo SG 1 1.png",alt:"SG Consulting Group",className:"h-14 mb-8"}),e.jsx(L,{className:"w-full max-w-md bg-white text-[--color-fg] shadow-md rounded-xl border border-[--color-border] fade-in-up",children:e.jsxs(T,{className:"py-8 px-10 space-y-8",children:[e.jsx(A,{currentStep:1}),e.jsxs("div",{className:"space-y-1 text-left",children:[e.jsx("h1",{className:"text-3xl font-bold text-black",children:"Crea tu cuenta"}),e.jsx("p",{className:"text-sm text-[--color-muted]",children:"Ingresa tu información inicial para continuar."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"correo",children:"Correo electrónico"}),e.jsx(C,{id:"correo",type:"email",placeholder:"correo@ejemplo.com",value:a.correo,onChange:c=>t({...a,correo:c.target.value}),className:"h-11 text-base bg-[--color-bg] border border-[--color-border]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"confirmarCorreo",children:"Confirmar correo electrónico"}),e.jsx(C,{id:"confirmarCorreo",type:"email",placeholder:"correo@ejemplo.com",value:a.confirmarCorreo,onChange:c=>t({...a,confirmarCorreo:c.target.value}),className:"h-11 text-base bg-[--color-bg] border border-[--color-border]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"identificacion",children:"Identificación"}),e.jsx(C,{id:"identificacion",placeholder:"XXX-XXXXXXXX",value:a.identificacion,onChange:c=>t({...a,identificacion:c.target.value}),className:"h-11 text-base bg-[--color-bg] border border-[--color-border]"})]})]}),e.jsxs("div",{className:"space-y-3 text-sm text-[--color-muted] pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{id:"clausula",checked:a.aceptaClausula,onCheckedChange:()=>s("aceptaClausula"),className:"data-[state=checked]:bg-[--color-primary] data-[state=checked]:border-[--color-primary] data-[state=checked]:text-white checkbox-animated"}),e.jsxs("label",{htmlFor:"clausula",children:["Acepto la"," ",e.jsx("a",{href:"/legal/clausula",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Cláusula informativa"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{id:"terminos",checked:a.aceptaTerminos,onCheckedChange:()=>s("aceptaTerminos"),className:"data-[state=checked]:bg-[--color-primary] data-[state=checked]:border-[--color-primary] data-[state=checked]:text-white checkbox-animated"}),e.jsxs("label",{htmlFor:"terminos",children:["Acepto los"," ",e.jsx("a",{href:"/legal/terminos",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Términos y condiciones"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{id:"privacidad",checked:a.aceptaPrivacidad,onCheckedChange:()=>s("aceptaPrivacidad"),className:"data-[state=checked]:bg-[--color-primary] data-[state=checked]:border-[--color-primary] data-[state=checked]:text-white checkbox-animated"}),e.jsxs("label",{htmlFor:"privacidad",children:["Acepto la"," ",e.jsx("a",{href:"/legal/privacidad",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Política de Privacidad"})]})]})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx(E,{className:"w-full btn-primary btn-animated text-base py-3 h-12",onClick:r,disabled:!d,children:"Continuar"}),e.jsx(E,{type:"button",variant:"outline",className:"w-full btn-microsoft btn-animated text-sm py-3 h-12",onClick:()=>i("/login"),children:"Cancelar"})]})]})}),e.jsxs("footer",{className:"text-center text-xs text-[--color-muted] mt-8",children:["© SG CONSULTING GROUP ·"," ",e.jsx("a",{href:"/legal/privacidad",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Privacidad y condiciones"})]})]})}const we=async a=>{const t=await a.json();if(!a.ok)throw new Error(t.message||"Error en el registro");return t},Se=async a=>{const t=await fetch(`${G}/Usuario/registro-parcial`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return we(t)},Pe=async a=>await(await fetch(`${G}/usuario/validar-correo?token=${a}`)).json(),Ee=async({idUsuario:a,numero:t,extension:r})=>await(await fetch(`${G}/usuario/enviar-codigo-telefono`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idUsuario:a,numero:t,extension:r})})).json(),Le=async({idUsuario:a,codigo:t})=>await(await fetch(`${G}/usuario/validar-telefono`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idUsuario:a,codigo:t})})).json();function Te({data:a,setData:t,onNext:r,onBack:i}){const[s,d]=o.useState({nombres:a.nombres||"",segundoNombre:"",apellidoPaterno:"",apellidoMaterno:"",password:a.contrasena||"",confirmPassword:""}),[c,m]=o.useState(!1),[g,j]=o.useState(!1),[u,k]=o.useState(!1),[h,x]=o.useState(""),p=f=>{d({...s,[f.target.name]:f.target.value})},w={length:s.password.length>=8,upper:/[A-Z]/.test(s.password),lower:/[a-z]/.test(s.password),number:/\d/.test(s.password),special:/[^A-Za-z0-9]/.test(s.password)},l=Object.values(w).every(Boolean)&&s.password===s.confirmPassword,v=async()=>{m(!0),x("");const f={email:a.correo,identificacion:a.identificacion,terminosAceptados:a.aceptaClausula&&a.aceptaTerminos&&a.aceptaPrivacidad,primerNombre:s.nombres,segundoNombre:s.segundoNombre,primerApellido:s.apellidoPaterno,segundoApellido:s.apellidoMaterno,contraseña:s.password};try{const N=await Se(f);N.success?(localStorage.setItem("idUsuario",N.idUsuario),t(b=>({...b,nombres:s.nombres,contrasena:s.password,segundoNombre:s.segundoNombre,apellidoPaterno:s.apellidoPaterno,apellidoMaterno:s.apellidoMaterno})),r()):x(N.message)}catch(N){x(N.message)}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-pattern flex flex-col items-center justify-center px-4 text-[--color-fg]",children:[e.jsx(O,{visible:c,message:"Creando cuenta y enviando correo..."}),e.jsx("img",{src:"/png/Logo SG 1 1.png",alt:"SG Consulting Group",className:"h-14 mb-8"}),e.jsx(L,{className:"w-full max-w-md bg-white text-[--color-fg] shadow-md rounded-xl border border-[--color-border] fade-in-up",children:e.jsxs(T,{className:"py-8 px-10 space-y-6",children:[e.jsx(A,{currentStep:2}),e.jsxs("div",{className:"space-y-1 text-left",children:[e.jsx("h1",{className:"text-3xl font-bold text-black",children:"Datos personales"}),e.jsx("p",{className:"text-sm text-[--color-muted]",children:"Completa esta información para continuar."})]}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(y,{children:"Primer nombre"}),e.jsx(C,{name:"nombres",placeholder:"Ej. Juan",value:s.nombres,onChange:p})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(y,{children:"Segundo nombre"}),e.jsx(C,{name:"segundoNombre",placeholder:"Ej. Carlos",value:s.segundoNombre,onChange:p})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(y,{children:"Apellido paterno"}),e.jsx(C,{name:"apellidoPaterno",placeholder:"Ej. Pérez",value:s.apellidoPaterno,onChange:p})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(y,{children:"Apellido materno"}),e.jsx(C,{name:"apellidoMaterno",placeholder:"Ej. Gómez",value:s.apellidoMaterno,onChange:p})]})]}),e.jsxs("div",{className:"space-y-1.5 pt-4",children:[e.jsx(y,{children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{name:"password",type:g?"text":"password",value:s.password,onChange:p,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>j(!g),className:"absolute inset-y-0 right-3",children:g?e.jsx(U,{className:"w-5 h-5"}):e.jsx(F,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(y,{children:"Confirmar contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{name:"confirmPassword",type:u?"text":"password",value:s.confirmPassword,onChange:p,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>k(!u),className:"absolute inset-y-0 right-3",children:u?e.jsx(U,{className:"w-5 h-5"}):e.jsx(F,{className:"w-5 h-5"})})]})]}),s.password.length>0&&e.jsxs("div",{className:"text-sm space-y-1 pt-2",children:[e.jsx("p",{className:"font-medium",children:"Tu contraseña debe incluir:"}),Object.entries(w).map(([f,N])=>e.jsxs("div",{className:"flex items-center gap-2 text-[--color-muted]",children:[N?e.jsx($,{className:"text-green-600 w-4 h-4"}):e.jsx(ae,{className:"text-gray-300 w-4 h-4"}),e.jsx("span",{children:{length:"Más de 8 caracteres",upper:"Al menos 1 mayúscula",lower:"Al menos 1 minúscula",number:"Al menos 1 número",special:"Al menos 1 caracter especial"}[f]})]},f))]}),h&&e.jsx("p",{className:"text-red-500 text-sm pt-2",children:h}),e.jsxs("div",{className:"space-y-2 pt-6",children:[e.jsx(E,{className:"w-full py-3 h-12",onClick:v,disabled:!l,children:"Continuar"}),e.jsx(E,{variant:"outline",className:"w-full py-3 h-12",onClick:i,children:"Volver"})]})]})}),e.jsxs("footer",{className:"text-center text-xs text-[--color-muted] mt-8",children:["© SG CONSULTING GROUP ·"," ",e.jsx("a",{href:"/legal/privacidad",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Privacidad y condiciones"})]})]})}function Ge({data:a}){const[t]=o.useState(a.correo||"usuario@correo.com");return e.jsxs("div",{className:"min-h-screen bg-pattern flex flex-col items-center justify-center px-4 text-[--color-fg]",children:[e.jsx("img",{src:"/png/Logo SG 1 1.png",alt:"SG Consulting Group",className:"h-14 mb-8"}),e.jsx(L,{className:"w-full max-w-md bg-white text-[--color-fg] shadow-md rounded-xl border border-[--color-border] fade-in-up",children:e.jsxs(T,{className:"py-8 px-10 space-y-8 text-center",children:[e.jsx(A,{currentStep:3}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-black",children:"Revisa tu correo electrónico"}),e.jsxs("p",{className:"text-sm text-[--color-muted] leading-relaxed",children:["Te hemos enviado un enlace de activación a: ",e.jsx("br",{}),e.jsx("strong",{className:"text-black",children:t})," ",e.jsx("br",{}),"Por favor, revisa tu bandeja de entrada (o la carpeta de spam) y sigue las instrucciones para continuar con tu registro."]})]}),e.jsx("div",{className:"text-xs text-[--color-muted] pt-2",children:"Este paso se completará automáticamente cuando verifiques tu cuenta desde el enlace enviado."})]})}),e.jsxs("footer",{className:"text-center text-xs text-[--color-muted] mt-8",children:["© SG CONSULTING GROUP ·"," ",e.jsx("a",{href:"/legal/privacidad",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Privacidad y condiciones"})]})]})}const _=[{code:"+593",label:"Ecuador",minLength:9,maxLength:10},{code:"+57",label:"Colombia",minLength:10,maxLength:10},{code:"+51",label:"Perú",minLength:9,maxLength:9},{code:"+52",label:"México",minLength:10,maxLength:10},{code:"+1",label:"EE.UU.",minLength:10,maxLength:10}];function Ae({onNext:a}){const t=localStorage.getItem("idUsuario"),[r,i]=o.useState("phone"),[s,d]=o.useState(""),[c,m]=o.useState("+593"),[g,j]=o.useState(""),[u,k]=o.useState(!1),[h,x]=o.useState(!1),[p,w]=o.useState(!1),l=_.find(n=>n.code===c),v=`${c} ${s}`;o.useEffect(()=>{t||S.error("ID de usuario no encontrado.")},[]);const f=/^\d+$/.test(s)&&s.length>=((l==null?void 0:l.minLength)||8)&&s.length<=((l==null?void 0:l.maxLength)||12),N=async()=>{k(!1),x(!0);try{const n=await Ee({idUsuario:parseInt(t),numero:s,extension:c});if(!n.success){S.error(n.message||"No se pudo enviar el SMS.");return}if(n.yaValidado){S.success("Número ya validado ✅"),a();return}S.success("Código enviado por SMS 📲"),i("token")}catch(n){S.error(n.message||"Error al contactar con el servidor.")}finally{x(!1)}},b=async()=>{x(!0);try{const n=await Le({idUsuario:parseInt(t),codigo:g});if(!n.success){S.error(n.message||"Código inválido o expirado.");return}S.success("Número verificado correctamente ✅"),a()}catch(n){S.error(n.message||"Error al validar el código.")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen bg-pattern flex flex-col items-center justify-center px-4 text-[--color-fg]",children:[e.jsx(O,{visible:h,message:"Procesando solicitud..."}),e.jsx("img",{src:"/png/Logo SG 1 1.png",alt:"SG Consulting Group",className:"h-14 mb-6"}),e.jsx(L,{className:"w-full max-w-md bg-white text-[--color-fg] shadow-md rounded-xl border border-[--color-border] fade-in-up",children:e.jsxs(T,{className:"py-8 px-10 space-y-6",children:[e.jsx(A,{currentStep:4}),r==="phone"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-left space-y-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:"Validar celular"}),e.jsx("p",{className:"text-sm text-[--color-muted]",children:"Ingresa tu número de celular para enviarte un código de verificación."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{className:"text-base font-medium",children:"Número de celular"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(xe,{value:c,onValueChange:m,children:[e.jsx(he,{className:"w-32 h-11 bg-[--color-bg] border border-[--color-border] text-sm",children:e.jsx(pe,{placeholder:"País"})}),e.jsx(ue,{className:"bg-white shadow-xl rounded-md border border-[--color-border]",children:_.map(n=>e.jsxs(be,{value:n.code,className:"text-sm px-3 py-2",children:[n.code," ",n.label]},n.code))})]}),e.jsx(C,{type:"tel",placeholder:`Ej. ${(l==null?void 0:l.code)==="+593"?"0991234567":"9999999999"}`,value:s,onChange:n=>{const K=n.target.value.replace(/\D/g,"");d(K),w(!0)},onBlur:()=>w(!0),className:"flex-1 h-11 text-base bg-[--color-bg] border border-[--color-border]",maxLength:l==null?void 0:l.maxLength})]}),p&&s.length>0&&!f&&e.jsxs("div",{className:"text-red-500 text-xs pl-1 pt-1",children:["Ingresa un número válido de ",l==null?void 0:l.minLength," a ",l==null?void 0:l.maxLength," dígitos, solo números."]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(re,{open:u,onOpenChange:k,children:[e.jsx(oe,{asChild:!0,children:e.jsx(E,{type:"button",className:"w-full btn-primary btn-animated text-base py-3 h-12",disabled:!f||h,children:"Enviar código"})}),e.jsxs(ne,{className:"bg-white border border-[--color-border] shadow-2xl rounded-2xl p-6 text-[--color-fg] max-w-md w-full space-y-4",children:[e.jsx(ce,{children:e.jsxs(le,{className:"text-lg font-semibold text-center leading-relaxed",children:["¿Deseas enviar el código a ",e.jsx("span",{className:"text-black font-bold",children:v}),"?"]})}),e.jsxs(ie,{className:"flex justify-center gap-4 pt-2",children:[e.jsx(de,{className:"btn-microsoft btn-animated px-6 h-10 text-sm",children:"Cancelar"}),e.jsx(me,{className:"btn-primary btn-animated px-6 h-10 text-sm",onClick:N,children:"Sí, enviar"})]})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-left space-y-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-black",children:"Código de verificación"}),e.jsxs("p",{className:"text-sm text-[--color-muted]",children:["Ingresa el código que te enviamos al número"," ",e.jsx("strong",{className:"text-black",children:v})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"token",className:"text-base font-medium",children:"Código de verificación"}),e.jsx(C,{id:"token",type:"text",placeholder:"Ej. 123456",value:g,onChange:n=>j(n.target.value),className:"h-11 text-base bg-[--color-bg] border border-[--color-border]"})]}),e.jsx("div",{className:"pt-4",children:e.jsx(E,{type:"button",onClick:b,className:"w-full btn-primary btn-animated text-base py-3 h-12",disabled:!g.trim()||h,children:"Confirmar"})})]})]})}),e.jsxs("footer",{className:"text-center text-xs text-[--color-muted] mt-8",children:["© SG CONSULTING GROUP ·"," ",e.jsx("a",{href:"/legal/privacidad",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Privacidad y condiciones"})]})]})}function Ie(){const a=B(),t=()=>{a("/login")};return e.jsxs("div",{className:"min-h-screen bg-pattern flex flex-col items-center justify-center px-4 text-[--color-fg]",children:[e.jsx("img",{src:"/png/Logo SG 1 1.png",alt:"SG Consulting Group",className:"h-14 mb-8"}),e.jsx(L,{className:"w-full max-w-md bg-white text-[--color-fg] shadow-md rounded-xl border border-[--color-border] fade-in-up",children:e.jsxs(T,{className:"py-10 px-10 space-y-6 text-center",children:[e.jsx($,{className:"w-12 h-12 text-green-600 mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold",children:"¡Registro completado!"}),e.jsx("p",{className:"text-sm text-[--color-muted]",children:"Tu cuenta ha sido creada correctamente. Ahora puedes iniciar sesión en la plataforma."}),e.jsx(E,{className:"w-full btn-primary btn-animated text-base h-12 mt-4",onClick:t,children:"Ir al inicio de sesión"})]})}),e.jsxs("footer",{className:"text-center text-xs text-[--color-muted] mt-8",children:["© SG CONSULTING GROUP · "," ",e.jsx("a",{href:"/legal/privacidad",target:"_blank",className:"underline hover:text-[--color-primary]",children:"Privacidad y condiciones"})]})]})}function _e(){const[a,t]=o.useState(1),[r,i]=o.useState({correo:"",confirmarCorreo:"",identificacion:"",nombres:"",apellidos:"",contrasena:"",celular:"",token:"",aceptaClausula:!1,aceptaTerminos:!1,aceptaPrivacidad:!1}),[s,d]=o.useState(!0),[c,m]=o.useState(""),[g]=se(),j=g.get("token");o.useEffect(()=>{(async()=>{if(j)try{const p=await Pe(j);p.success?t(4):m(p.message)}catch(p){m(p.message||"Error desconocido.")}d(!1)})()},[j]);const u=()=>t(x=>x+1),k=()=>t(x=>x-1),h={1:e.jsx(ke,{data:r,setData:i,onNext:u}),2:e.jsx(Te,{data:r,setData:i,onNext:u,onBack:k}),3:e.jsx(Ge,{data:r}),4:e.jsx(Ae,{data:r,onNext:u}),5:e.jsx(Ie,{})};return s?e.jsx(O,{visible:!0,message:"Validando enlace de correo..."}):c?e.jsx("div",{className:"min-h-screen flex items-center justify-center text-center text-red-600 p-10",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"⛔ Error de validación"}),e.jsx("p",{children:c})]})}):e.jsx(e.Fragment,{children:h[a]})}export{_e as default};
