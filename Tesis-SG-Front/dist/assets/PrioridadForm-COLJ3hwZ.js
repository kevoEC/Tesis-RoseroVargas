import{e as h,u as g,r as m,j as a,B as x,l as f,C as j,a as b,L as v,I as P,t as o}from"./index-CG6H-kfp.js";import{a as N,u as y,c as E}from"./PrioridadService-DZxlRSQj.js";function I(){var u;const{id:s}=h(),e=!!s,d=g(),[c,l]=m.useState(""),t=JSON.parse(localStorage.getItem("user")),n=(u=t==null?void 0:t.usuario)==null?void 0:u.idUsuario;m.useEffect(()=>{e&&(async()=>{try{const r=await N(s);l(r.categoria)}catch(r){console.error("Error al cargar prioridad:",r)}})()},[s]);const p=async i=>{i.preventDefault();try{const r={idPrioridad:e?parseInt(s):0,categoria:c,...e?{idUsuarioModificacion:n}:{idUsuarioCreacion:n}};e?(await y(r),o.success("Prioridad actualizada correctamente")):(await E(r),o.success("Prioridad creada correctamente")),d("/catalogo/prioridad/vista")}catch(r){console.error("Error al guardar prioridad:",r),o.error("Error al guardar la prioridad")}};return a.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(x,{variant:"link",onClick:()=>d("/catalogo/prioridad/vista"),className:"text-blue-600 px-0",children:[a.jsx(f,{className:"w-4 h-4 mr-2"})," Volver a Prioridad"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:e?"Editar Prioridad":"Crear Prioridad"})]}),a.jsx(j,{className:"shadow-lg border border-gray-200 rounded-2xl",children:a.jsx(b,{className:"p-6",children:a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(v,{className:"font-medium text-gray-700",children:"Descripcion"}),a.jsx(P,{placeholder:"Ej: Quito",value:c,onChange:i=>l(i.target.value),required:!0})]}),a.jsx(x,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Guardar Prioridad"})]})})})]})}export{I as default};
